<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>CloudView LAS Viewer</title>
	<link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
	<div id="container"></div>
	<input type="file" id="file-input">
	<div id="loader">Loading...</div>
	<div id="info"><pre id="info-text">Preprocessing with <a href="data/CloudAE.zip">CloudAE</a> gives access to custom EVLRs<br>(the z stats record is used for sd stretch)</pre></div>
	<div id="header"><pre id="header-text"></pre></div>
	<div id="status"><pre id="status-text"></pre></div>
	
	<script type="x-shader/x-vertex" id="vertexshader3">
	attribute vec3 color;
	varying vec3 vColor;

	void main() {
		gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
		gl_PointSize = 1.0;
		vColor = color;
	}
	</script>
	
	<script type="x-shader/x-vertex" id="vertexshader2">
		precision mediump float;
		precision lowp sampler2D;

		uniform sampler2D texture;
		uniform float zmin;
		uniform float zmax;
		varying vec3 vColor;
		
		void main() {
			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			gl_PointSize = 1.0;
			vColor = texture2D(texture, vec2((position.z - zmin) / (zmax - zmin), 0)).xyz;
		}
	</script>

	<script type="x-shader/x-vertex" id="vertexshader">
		precision mediump float;
		
		attribute float color;
		varying vec3 vColor;
		
		vec3 unpackColor(float f) {
			vec3 color;
			color.b = floor(f / 256.0 / 256.0);
			color.g = floor((f - color.b * 256.0 * 256.0) / 256.0);
			color.r = floor(f - color.b * 256.0 * 256.0 - color.g * 256.0);
			// normalize
			return color / 256.0;
		}

		void main() {
			gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
			gl_PointSize = 1.0;
			vColor = unpackColor(color);
		}
	</script>

	<script type="x-shader/x-fragment" id="fragmentshader">
		varying vec3 vColor;
		
		void main() {
			gl_FragColor = vec4(vColor, 1.0);
		}
	</script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"></script>
	<script src="js/libs/three.js/three.min.js"></script>
	<script src="js/libs/stats.min.js"></script>
    <script src="js/libs/dat.gui.min.js"></script>

	<script src="js/libs/three.js/controls/OrbitControls.js"></script>
	<script src="js/libs/three.js/controls/TrackballControls.js"></script>
	<script src="js/libs/three.js/controls/FlyControls.js"></script>
	
	<script src="js/util.js"></script>
	<script src="js/ColorRamp.js"></script>
	<script src="js/Stretch.js"></script>
	<script src="js/IntervalMap.js"></script>
	<script src="js/CachedColorRamp.js"></script>
	<script src="js/BinaryReader.js"></script>
	<script src="js/Statistics.js"></script>
	<script src="js/LASHeader.js"></script>
	<script src="js/Viewport3D.js"></script>
	<script src="js/LASInfo.js"></script>
	<script src="js/Scene.js"></script>
</body>
</html>